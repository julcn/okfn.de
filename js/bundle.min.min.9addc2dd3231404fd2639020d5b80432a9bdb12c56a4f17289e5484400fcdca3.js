document.addEventListener("DOMContentLoaded",function(){document.querySelector("body").classList.remove("no-js"),document.querySelector("body").classList.add("js");var t=document.querySelector("#js-topnav-toggle"),n=document.querySelector("#js-topnav-menu");t&&n&&(n.classList.add("is-hidden"),t.classList.add("is-closed"),t.addEventListener("click",function(){n.classList.toggle("is-hidden"),t.classList.toggle("is-closed")})),tabnav(".js-report","#js-report-nav a"),tabnav(".js-incomes","#js-incomes-nav a"),topnav()});function topnav(){var e,t=0,n=8,s=85;window.addEventListener("scroll",function(){e=!0}),setInterval(function(){e&&(o(),e=!1)},300);function o(){var e=window.scrollY;if(Math.abs(t-e)<=n)return;e>t&&e>s?document.querySelector(".l__topbar").classList.add("is-up"):e-window.innerHeight<window.outerHeight&&document.querySelector(".l__topbar").classList.remove("is-up"),t=e}}function tabnav(e,t){var n=document.querySelectorAll(e),s=document.querySelectorAll(t);n&&s&&(n.forEach(function(e,t){t!==0&&e.classList.add("is-hidden")}),s.forEach(function(e,s){s===0&&e.classList.add("active"),e.addEventListener("click",function(e){e.preventDefault(),n.forEach(function(e){e.classList.add("is-hidden")}),document.querySelector(t+".active").classList.remove("active"),e.target.classList.add("active");var s=e.target.attributes.href.value;document.querySelector(s).classList.remove("is-hidden")})}))}window.idx,window.siteSearchData,document.addEventListener("DOMContentLoaded",function(){var t=new XMLHttpRequest;t.open("GET","/js/site-search-index.json"),t.onload=function(){if(this.status>=200&&this.status<400){var e=JSON.parse(this.response);window.idx=lunr.Index.load(e.idx),window.siteSearchData=e.store,console.log("Search index loaded, good to go!"),n()}},t.onerror=function(){console.log("Error loading index")},t.send();function n(){var e=document.querySelector(".js-search-form"),i=document.getElementById("js-search-button"),t=document.getElementById("js-search-input"),a=document.getElementById("js-close-search"),n=document.querySelector("#js-search-results"),s=document.querySelector("#js-search-result-count");if(e&&i&&t&&a&&n){function o(){t.value="",n.innerHTML="",s.innerHTML=""}function r(){t.focus(),window.scroll(0,0)}a.onclick=function(){e.classList.contains("open")&&(e.classList.remove("open"),o())},window.addEventListener("keyup",function(n){var s=n.keyCode;s==27&&(e.classList.contains("open")?(e.classList.remove("open"),o()):(e.classList.add("open"),r(),t.value.length>0&&o()))},!0),i.addEventListener("click",function(){e.classList.toggle("open"),o(),r();var s=document.querySelector("#js-topnav-toggle"),n=document.querySelector("#js-topnav-menu");s&&n&&(n.classList.contains("is-hidden")||(n.classList.toggle("is-hidden"),s.classList.toggle("is-closed")))},!0);function c(e){var i,o=t.value;o.length===0&&(n.innerHTML="",s.innerHTML=""),e.keyCode!==9&&o.length>2&&(i=window.idx.search(o),l(i))}t.addEventListener("keyup",c,!0);function l(e){var o,i=t.value;e.length?(n.innerHTML="",s.innerHTML=e.length+" Ergebnisse",o="",e.forEach(function(e){var s,i,t=window.siteSearchData[e.ref],n='<li class="l__search__result">';n+='<a href="'+t.url+'">',t.section&&(s=[t.section.split("")[0].toUpperCase(),t.section.split("").splice(1).join("")].join(""),n+="<p>In "+s+"</p>"),n+='<h3 class="l__search__result__header">'+t.title+"</h3>",s&&s==="Projekte"&&(n+='<img src="/files/'+t.img+'" width="265" height="179" class="l__search__result__image">'),n+="<p>"+t.content.slice(0,35).join(" ")+" [...]</p></a>",n+="</li>",o+=n}),n.innerHTML+=o):(s.innerHTML="",n.innerHTML=`<li class="l__search__result none">
Keine Ergebnisse f√ºr <span class="l__search__input-value">${i}</span> gefunden.<br/>
Bitte kontrolliere Rechtschreibung und Worttrennung.</li>`)}}else console.log("Missing form elements")}})